{% extends "baseAdmin.html.twig" %}

{% block title %}{{ app.request.attributes.get('_route') == 'fruits_create' ? 'création' : 'modification' }} produit{% endblock %}

{% block body %}
{# <h1>{{ form_title }}</h1> #}

    <h1 class="mb-5">{{ app.request.attributes.get('_route') == 'fruits_create' ? 'Créer' : 'Modifier' }} un produit</h1>

{{ form_start(productForm) }}

        <div class="row">
            <div class="col-6">
              
                {{ form_label(productForm.name, 'Nom') }}
                {{ form_errors(productForm.name) }}
                {{ form_widget(productForm.name, {
                    'attr': {
                        'placeholder': 'Ex.: Jan'
                    }
                }) }}
                {{ form_help(productForm.name) }}
            </div>
            {# <div class="col-3">
                {{ form_row(productForm.poids, {
                    'label': 'Poids (en G)',
                    'attr': {
                        'placeholder': 'Ex.: 572g'
                    }
                }) }}
            </div> #}
            <div class="col-3">
                {{ form_row(productForm.category, {
                    'label': 'Catégorie',
                    'placeholder': '-- sélectionner --'
                }) }}
            </div>
        </div>

        <div class="row">
            <div class="col-3">
                {{ form_row(productForm.price, {
                    'label': 'Prix (en €)',
                    'attr': {
                        'placeholder': 'Ex.: 123.45'
                    }
                }) }}
            </div>
            <div class="col-3">
                {{ form_row(productForm.description, {
                    'label': 'Description',
                    'attr': {
                        'placeholder': 'Ex.: Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita provident et quod. Vero aliquid praesentium earum eos, facilis doloremque tempora ab quidem incidunt ! Ea, dignissimos. Quas sed modi sapiente dolorem ?'

                    }
                }) }}
            </div>
        </div>

        <div class="row">
            <div class="col-4">
                {{ form_row(productForm.img, {
                    'label': 'Image principale (obligatoire)'
                }) }}
            </div>
        </div>

        <div class="row">
            <div class="col-12 text-end my-3">
                <a href="{{ path('admin_products')}}" class="btn btn-outline-danger me-3">Annuler</a>
                {# app.request.attributes.get('_route') pour récupérer la route actuelle #}
                <button class="btn btn-success">{{ app.request.attributes.get('_route') == 'product_create' ? 'Créer' : 'Modifier' }} </button>

    {{ form_end(productForm) }}

{% endblock %}